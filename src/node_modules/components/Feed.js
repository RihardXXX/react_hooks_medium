import React from "react";
import {Link} from "react-router-dom";
import AddToFavorites from 'components/addToFavorites';

import './feed.css'

const Feed = ({articles}) => {
    // console.log('articles: ', articles);
    return(
        <div>
            { articles.map((article, index) => {
                return (
                    <div className="feed" key={index}>
                        <Link to={`profiles/${article.author.username}`}>
                            <img className="card-img-top" src="https://www.telegraph.co.uk/content/dam/news/2019/12/23/TELEMMGLPICT000215209478_trans_NvBQzQNjv4BqJUXCnCSzGJWFkTUQHfwo0m4m2jbM8Kcq1DrO-XsVmW8.jpeg" alt="Card image cap" />
                        </Link>
                        <Link to={`/profiles/${article.author.username}`} >
                            <h6 className="feed-info">
                                author name: {article.author.username}
                            </h6>
                        </Link>
                        <h6 className="feed-info">
                            created article: {article.createdAt}
                        </h6>
                        <Link to={`article/${article.slug}`} className="feed-body">
                            <h5 className="feed-title">
                                {article.title}
                            </h5>
                            <p className="feed-description">
                                {article.description}
                            </p>
                            <ul>
                                { article.tagList.map(tag => {
                                    return (
                                        <li key={tag}>{tag}</li>
                                    )
                                }) }
                            </ul>
                        </Link>
                        <AddToFavorites
                            isFavorite={article.favorited}
                            favoriteCount={article.favoritesCount}
                            slug={article.slug}
                        />
                    </div>
                )
            }) }
        </div>
    )
}

export default Feed;
